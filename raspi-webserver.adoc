= Configure a Web Server on a Raspberry Pi with Ansible
== Prerequisites
. A Raspberry Pi OS
.. Your Pi's IP address or hostname
... User with sudo privileges on the Pi
== Install NGINX 
=== Step 1: Update and Upgrade the Raspberry Pi
[,bash]
----
sudo apt update && sudo apt upgrade -y
----
=== Step 2: Install the NGINX Package
[,bash]
----
sudo apt install nginx -y
----
=== Step 3: Check NGINX Configurations
[,bash]
----
sudo systemctl status nginx
----
NOTE: If NGINX is not enable and configuration as a proxy server start the following instructions 

[,bash]
----
sudo systemctl enable nginx
sudo systemctl start nginx
# Check the status
sudo systemctl status
----
=== Step 4: Check Local IP Address from Pi
[,bash]
----
hostname -I
----
=== Step 5: Display the browser with Local IP address
[,bash]
----
curl http://<IP-ADDRESS>
----
== Install PHP
=== Step 1: Install the Recommanded PHP Modules 
[,bash]
----
sudo apt install php8.2-fpm php8.2-mbstring php8.2-mysql php8.2-curl php8.2-gd php8.2-curl php8.2-zip php8.2-xml -y
----
=== Step 2: Edit the default configuration file
[,bash]
----
sudo nano /etc/nginx/sites-enabled/default
----
=== Step 3: Find and Replace the following lines
*Find*
[,bash]
----
index index.html index.htm;

#location ~ \.php$ {
        #       include snippets/fastcgi-php.conf;
        #
        #       # With php5-cgi alone:
        #       fastcgi_pass 127.0.0.1:9000;
        #       # With php5-fpm:
        #       fastcgi_pass unix:/var/run/php5-fpm.sock;
        #}
----
*Replace with*
[,bash]
----
index index.php index.html index.htm;

location ~ \.php$ {
               include snippets/fastcgi-php.conf;
               fastcgi_pass unix:/var/run/php/php8.2-fpm.sock;
        }
----
=== Step 4: Reload NGINX Configuration
[,bash]
----
sudo systemctl reload nginx
----
=== Step 5: Setup the PHP file
[,bash]
----
sudo nano /var/www/html/index.php
# Add the following line

<?php phpinfo(); ?>
----
